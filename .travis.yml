env:
  global:
    - CC_TEST_REPORTER_ID=e56f2e19260128e344598bc697e0e312e2161e849c661ace6c44774adea698b0
    - secure: "TGru3F48+W1z+N2P0UTSEnhYz/dcsvH3kCvVuY/mOWILm3qjNlPfZncQNOEEo957xLD/m2aofXp22O/uGjPj4uVi3Yhw7inHyjnJxTNasEGxBqL0u5RDBrh0LKIVT4K8WA4v0H7XA9SZx5TE9SHfKLGb0Ez2dG3AaaK+OPXTjIhGBH02tQ/yzBT8ZDideVzl3lZ4ItIsG2KdI8yNwaZNkL6tclv9Q0QTN3q6E0FDKg+Qcy2Jxruxh0+rBXz8NPNEt/oPwFZK38rOrdQvWmqR8U8tikJaNDMddhSuQVk+zOP0GdJpgO6jjXlS0I7M+bD6Eb7QA3+0w5BLtTiTqeS9LSPA3jVa/2Cp8Ilh1bV8gr2NJ3UJ03da/DjofQg5+8Us03u1fb8I9Lo9aUpLkUCHLZXMPf76bvDY8g7wNPHA/nEGARy81A+o1+iq1ROHmcgK67ytxtSqof/ZgTHgqjKYX4I2/Ot6STYpqExWczp9eV2AVdCPd5DsW1j5NtswHZNuNK1h3lQvuPx8R3bF2dTXx9/hjcO0qSUViAfSy3bOmSiQDVZ5kyjKlrfaPyNcfpp7h6mJcn9+rw1BMx/yrzwvaJvgEWLv5qTsrEjVEnhjk6tSR/vgQXvTk8DnKUqGlkFp0pr61MH2YMa08s4P3CT5UXD8z4Y0RsbNW7QIq6oJ2D0="
language: python
python: 3.7

branches:
  only:
    - master

before_install:
  - pip install poetry
install:
  - make install

before_script:
  - curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 > ./cc-test-reporter
  - chmod +x ./cc-test-reporter
  - ./cc-test-reporter before-build
script:
  - make lint
  - make analyze
#   - make test-with-coverage
# after_script:
#   - ./cc-test-reporter format-coverage -d -t coverage.py coverage.xml after-build $TRAVIS_TEST_RESULT
#   - if [[ "$TRAVIS_TEST_RESULT" == 0 ]]; then ./cc-test-reporter upload-coverage; fi

deploy:
  provider: heroku
  app: "alexofechoes-taskmanager"
  api_key:
    secure: rAa/ZQhlx/qt+5fax7ENBDMwYRmuimpd14L63ztjyYUZW4Wl3KyWUXz/f8vjTQARgYfGPuKaW9KLfVc0bMzWrmBRXIMUuaIrjYujvgHsU8B0Ma5B72wiKzNZx/4zCKmtuyHUoLvtpZv5LJS9AERAIxtcD2cJ/qphajv+gwSX02sDLiiT70r6sAKhD8KtW4/QckxazLhBbPcWZOjHl/iwTEBCLtji8YmjDo/AWDhda9L2Lf887jNXteyRG7YzFwCDMsIe41Y9W8MXLWNxBa3gY6OZ7ZghbH0VKjFiN7YQmPVxqZd65AprbeETjiUvMiljDfR/07kHCzEmRWV6kY0/VK5YBQJGBYVs9GR3GD4VvEqbzAzTIzXZNnNaQGTlMchY1ApZkKbjSYopx89wmsoES5AfUb55PIqa9iQlpkZSRLsU9qG1VkAjcq5fHx1gPwQyX4hJSwSjqW0IcAjhidVwoOM+KLaUojVPc5KTMyuQwOA/lM60PVtPN2KNyStMjIbOTFmn8B/3BARbDstXnYZ8BGvQfiHYRlCx+YiaHb3kdV8dNCnkehUi2JOSZ958JzF00CRgN6PLHGqQILuC+kRz+dX11Tzug0XH9NHaV+S3l0XGa6REOXICDkxpSm+gIeMRAE6Ndc8JHelYIYqZHhKlxCANpsColt6PHCQ++sFeZa4=
